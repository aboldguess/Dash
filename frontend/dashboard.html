<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Dash</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body onload="checkAuth()">
  <header>
    <nav>
      <strong>Dash</strong>
      <a href="pricing.html">Pricing</a>
      <a href="profile.html">Profile</a>
      <a id="adminLink" href="admin.html" class="hidden">Admin</a>
      <a href="social.html">Social</a>
      <a href="#" onclick="logout()">Logout</a>
    </nav>
  </header>

  <!-- Main layout with two sidebars -->
  <div class="main-layout">
    <!-- Left sidebar for selecting the active business tool -->
    <nav class="tool-sidebar">
      <ul>
        <li id="tool-messages" class="active" onclick="selectTool('messages')">ðŸ’¬</li>
        <li id="tool-crm" onclick="selectTool('crm')">CRM</li>
        <li id="tool-projects" onclick="selectTool('projects')">Projects</li>
        <li id="tool-timesheets" onclick="selectTool('timesheets')">TS</li>
        <li id="tool-recruit" onclick="selectTool('recruit')">HR</li>
      </ul>
    </nav>

    <!-- Contextual sidebar which changes based on the selected tool -->
    <aside class="context-sidebar" id="contextSidebar">
      <p><strong>Users</strong></p>
      <ul id="userList"></ul>
    </aside>

    <main class="content">
      <!-- Messaging section -->
      <section id="messages">
        <h2>Instant Messages</h2>
        <label for="channelSelect">Channel:</label>
        <select id="channelSelect" onchange="changeChannel()"></select>
        <div id="messageList"></div>
        <input id="messageInput" placeholder="Message" />
        <button onclick="sendMessage()">Send</button>
      </section>

      <!-- Placeholder sections for future tools -->
      <section id="crm" class="hidden">
        <h2>CRM</h2>
        <form id="contactForm" onsubmit="saveContact(event)">
          <input id="contactId" type="hidden" />
          <input id="contactName" placeholder="Name" required />
          <input id="contactEmail" placeholder="Email" required />
          <input id="contactPhone" placeholder="Phone" required />
          <input id="contactCompany" placeholder="Company" />
          <input id="contactNotes" placeholder="Notes" />
          <button type="submit">Save</button>
        </form>
        <table class="admin-table" id="contactTable"></table>
      </section>
      <section id="projects" class="hidden">
        <h2>Projects</h2>
        <form id="projectForm" onsubmit="saveProject(event)">
          <input id="projectId" type="hidden" />
          <input id="projectName" placeholder="Project name" required />
          <input id="projectOwner" placeholder="Owner" required />
          <input id="projectStart" type="date" />
          <input id="projectEnd" type="date" />
          <input id="projectHours" type="number" placeholder="Hours" />
          <input id="projectCost" type="number" placeholder="Â£ Cost" />
          <textarea id="projectDesc" placeholder="Description"></textarea>
          <button type="submit">Save</button>
        </form>
        <div id="gantt"></div>
        <table class="admin-table" id="projectTable"></table>
      </section>
      <section id="timesheets" class="hidden">
        <h2>Timesheets</h2>
        <p>Timesheets functionality coming soon.</p>
      </section>
      <section id="recruit" class="hidden">
        <h2>Recruitment</h2>
        <p>Recruitment functionality coming soon.</p>
      </section>
    </main>
  </div>

  <!-- Socket.IO will be loaded dynamically if needed -->
  <script src="js/app.js"></script>
</body>
</html>
